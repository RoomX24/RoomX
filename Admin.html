<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Felület</title>
<style>
body {
font-family: Arial, sans-serif;
display: flex;
flex-direction: column;
align-items: center;
margin-top: 50px;
}
#countdown {
font-size: 30px;
margin-bottom: 20px;
}
input, button {
padding: 10px;
margin: 10px;
font-size: 16px;
}
.countdown {
font-size: 48px;
color: red;
}
</style>
</head>
<body>

<h1>Admin Felület</h1>

<label for="tip">Írd be a tippet:</label><br>
<input type="text" id="tip" placeholder="Tipp...">
<button onclick="sendTip()">Tipp küldése</button>

<br>

<label for="countdown">Állíts be egy visszaszámláló időt (másodpercben):</label><br>
<input type="number" id="countdownInput" placeholder="Például: 3600 (1 óra)">
<button onclick="startCountdown()">Indítás</button>
<button onclick="stopCountdown()">Leállítás</button>

<div id="countdown" class="countdown">Visszaszámlálás: 00:00</div>

<script>
let countdownFunction;
let timeLeft;
let tipElement = document.getElementById("tip");

// Funkció, amely a tippet küldi
function sendTip() {
const tip = tipElement.value;
if (tip) {
localStorage.setItem('tip', tip); // Tároljuk a tippet helyben
alert("Tipp elküldve!");
tipElement.value = ''; // Kiüríti a szövegmezőt
}
}

// Funkció, amely elindítja a visszaszámlálót
function startCountdown() {
const countdownTime = document.getElementById("countdownInput").value;
if (countdownTime && countdownTime > 0) {
timeLeft = countdownTime;
if (countdownFunction) clearInterval(countdownFunction); 
countdownFunction = setInterval(updateCountdown, 1000);
} else {
alert("Kérlek, állítsd be az időt másodpercben!");
}
}

// Funkció, amely megállítja a visszaszámlálót
function stopCountdown() {
clearInterval(countdownFunction);
}

// Frissíti a visszaszámláló időt
function updateCountdown() {
if (timeLeft <= 0) {
clearInterval(countdownFunction);
document.getElementById("countdown").innerHTML = "A visszaszámlálás véget ért!";
return;
}

let minutes = Math.floor(timeLeft / 60);
let seconds = timeLeft % 60;

document.getElementById("countdown").innerHTML = `Visszaszámlálás: ${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
timeLeft--;
}
</script>
</body>
</html>